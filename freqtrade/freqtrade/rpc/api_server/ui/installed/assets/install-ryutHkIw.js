import{bF as I,c8 as Ve,aI as Pe,r as Ze,y as va,c5 as Ye,bV as Be,dj as Se,g as fa,aY as ca,cW as ga,f3 as ua,f4 as ha,c6 as ie,ar as le,B as _e,aF as da,T as Xe,a7 as pa,aw as Me,a4 as se,j as ee,f5 as ya,o as Ae,f6 as Ie,f7 as ma,f8 as ba,f9 as La,d_ as xa,t as oe,b0 as Ue,x as de,bE as Sa,bz as Ma,bA as Aa,bq as Ta,a6 as $e,fa as Ca,_ as Ne,bx as Ke,A as Da,by as wa,H as Pa,b5 as _a,C as Q,bw as ce,v as Ia,z as Na,F as Oa,D as Ra,E as Ga,bh as Ea,L as ze,M as ka,aB as Je,aC as Va,fb as Ya,aP as Ba,S as Xa,fc as Ua,aS as za}from"./installCanvasRenderer-4trk6N7K.js";var ne=Math.PI*2,W=ga.CMD,ja=["top","right","bottom","left"];function Fa(r,i,n,e,a){var l=n.width,t=n.height;switch(r){case"top":e.set(n.x+l/2,n.y-i),a.set(0,-1);break;case"bottom":e.set(n.x+l/2,n.y+t+i),a.set(0,1);break;case"left":e.set(n.x-i,n.y+t/2),a.set(-1,0);break;case"right":e.set(n.x+l+i,n.y+t/2),a.set(1,0);break}}function qa(r,i,n,e,a,l,t,o,f){t-=r,o-=i;var c=Math.sqrt(t*t+o*o);t/=c,o/=c;var s=t*n+r,d=o*n+i;if(Math.abs(e-a)%ne<1e-4)return f[0]=s,f[1]=d,c-n;if(l){var u=e;e=ie(a),a=ie(u)}else e=ie(e),a=ie(a);e>a&&(a+=ne);var v=Math.atan2(o,t);if(v<0&&(v+=ne),v>=e&&v<=a||v+ne>=e&&v+ne<=a)return f[0]=s,f[1]=d,c-n;var g=n*Math.cos(e)+r,h=n*Math.sin(e)+i,p=n*Math.cos(a)+r,y=n*Math.sin(a)+i,L=(g-t)*(g-t)+(h-o)*(h-o),m=(p-t)*(p-t)+(y-o)*(y-o);return L<m?(f[0]=g,f[1]=h,Math.sqrt(L)):(f[0]=p,f[1]=y,Math.sqrt(m))}function pe(r,i,n,e,a,l,t,o){var f=a-r,c=l-i,s=n-r,d=e-i,u=Math.sqrt(s*s+d*d);s/=u,d/=u;var v=f*s+c*d,g=v/u;o&&(g=Math.min(Math.max(g,0),1)),g*=u;var h=t[0]=r+g*s,p=t[1]=i+g*d;return Math.sqrt((h-a)*(h-a)+(p-l)*(p-l))}function Qe(r,i,n,e,a,l,t){n<0&&(r=r+n,n=-n),e<0&&(i=i+e,e=-e);var o=r+n,f=i+e,c=t[0]=Math.min(Math.max(a,r),o),s=t[1]=Math.min(Math.max(l,i),f);return Math.sqrt((c-a)*(c-a)+(s-l)*(s-l))}var X=[];function Ha(r,i,n){var e=Qe(i.x,i.y,i.width,i.height,r.x,r.y,X);return n.set(X[0],X[1]),e}function Wa(r,i,n){for(var e=0,a=0,l=0,t=0,o,f,c=1/0,s=i.data,d=r.x,u=r.y,v=0;v<s.length;){var g=s[v++];v===1&&(e=s[v],a=s[v+1],l=e,t=a);var h=c;switch(g){case W.M:l=s[v++],t=s[v++],e=l,a=t;break;case W.L:h=pe(e,a,s[v],s[v+1],d,u,X,!0),e=s[v++],a=s[v++];break;case W.C:h=ha(e,a,s[v++],s[v++],s[v++],s[v++],s[v],s[v+1],d,u,X),e=s[v++],a=s[v++];break;case W.Q:h=ua(e,a,s[v++],s[v++],s[v],s[v+1],d,u,X),e=s[v++],a=s[v++];break;case W.A:var p=s[v++],y=s[v++],L=s[v++],m=s[v++],S=s[v++],M=s[v++];v+=1;var D=!!(1-s[v++]);o=Math.cos(S)*L+p,f=Math.sin(S)*m+y,v<=1&&(l=o,t=f);var P=(d-p)*m/L+p;h=qa(p,y,m,S,S+M,D,P,u,X),e=Math.cos(S+M)*L+p,a=Math.sin(S+M)*m+y;break;case W.R:l=e=s[v++],t=a=s[v++];var b=s[v++],A=s[v++];h=Qe(l,t,b,A,d,u,X);break;case W.Z:h=pe(e,a,l,t,d,u,X,!0),e=l,a=t;break}h<c&&(c=h,n.set(X[0],X[1]))}return c}var U=new I,x=new I,C=new I,F=new I,j=new I;function je(r,i){if(r){var n=r.getTextGuideLine(),e=r.getTextContent();if(e&&n){var a=r.textGuideLineConfig||{},l=[[0,0],[0,0],[0,0]],t=a.candidates||ja,o=e.getBoundingRect().clone();o.applyTransform(e.getComputedTransform());var f=1/0,c=a.anchor,s=r.getComputedTransform(),d=s&&fa([],s),u=i.get("length2")||0;c&&C.copy(c);for(var v=0;v<t.length;v++){var g=t[v];Fa(g,0,o,U,F),I.scaleAndAdd(x,U,F,u),x.transform(d);var h=r.getBoundingRect(),p=c?c.distance(x):r instanceof ca?Wa(x,r.path,C):Ha(x,h,C);p<f&&(f=p,x.transform(s),C.transform(s),C.toArray(l[0]),x.toArray(l[1]),U.toArray(l[2]))}ea(l,i.get("minTurnAngle")),n.setShape({points:l})}}}var ye=[],G=new I;function ea(r,i){if(i<=180&&i>0){i=i/180*Math.PI,U.fromArray(r[0]),x.fromArray(r[1]),C.fromArray(r[2]),I.sub(F,U,x),I.sub(j,C,x);var n=F.len(),e=j.len();if(!(n<.001||e<.001)){F.scale(1/n),j.scale(1/e);var a=F.dot(j),l=Math.cos(i);if(l<a){var t=pe(x.x,x.y,C.x,C.y,U.x,U.y,ye,!1);G.fromArray(ye),G.scaleAndAdd(j,t/Math.tan(Math.PI-i));var o=C.x!==x.x?(G.x-x.x)/(C.x-x.x):(G.y-x.y)/(C.y-x.y);if(isNaN(o))return;o<0?I.copy(G,x):o>1&&I.copy(G,C),G.toArray(r[1])}}}}function Za(r,i,n){if(n<=180&&n>0){n=n/180*Math.PI,U.fromArray(r[0]),x.fromArray(r[1]),C.fromArray(r[2]),I.sub(F,x,U),I.sub(j,C,x);var e=F.len(),a=j.len();if(!(e<.001||a<.001)){F.scale(1/e),j.scale(1/a);var l=F.dot(i),t=Math.cos(n);if(l<t){var o=pe(x.x,x.y,C.x,C.y,U.x,U.y,ye,!1);G.fromArray(ye);var f=Math.PI/2,c=Math.acos(j.dot(i)),s=f+c-n;if(s>=f)I.copy(G,C);else{G.scaleAndAdd(j,o/Math.tan(Math.PI/2-s));var d=C.x!==x.x?(G.x-x.x)/(C.x-x.x):(G.y-x.y)/(C.y-x.y);if(isNaN(d))return;d<0?I.copy(G,x):d>1&&I.copy(G,C)}G.toArray(r[1])}}}}function Te(r,i,n,e){var a=n==="normal",l=a?r:r.ensureState(n);l.ignore=i;var t=e.get("smooth");t&&t===!0&&(t=.3),l.shape=l.shape||{},t>0&&(l.shape.smooth=t);var o=e.getModel("lineStyle").getLineStyle();a?r.useStyle(o):l.style=o}function $a(r,i){var n=i.smooth,e=i.points;if(e)if(r.moveTo(e[0][0],e[0][1]),n>0&&e.length>=3){var a=Be(e[0],e[1]),l=Be(e[1],e[2]);if(!a||!l){r.lineTo(e[1][0],e[1][1]),r.lineTo(e[2][0],e[2][1]);return}var t=Math.min(a,l)*n,o=Se([],e[1],e[0],t/a),f=Se([],e[1],e[2],t/l),c=Se([],o,f,.5);r.bezierCurveTo(o[0],o[1],o[0],o[1],c[0],c[1]),r.bezierCurveTo(f[0],f[1],f[0],f[1],e[2][0],e[2][1])}else for(var s=1;s<e.length;s++)r.lineTo(e[s][0],e[s][1])}function aa(r,i,n){var e=r.getTextGuideLine(),a=r.getTextContent();if(!a){e&&r.removeTextGuideLine();return}for(var l=i.normal,t=l.get("show"),o=a.ignore,f=0;f<Ve.length;f++){var c=Ve[f],s=i[c],d=c==="normal";if(s){var u=s.get("show"),v=d?o:Pe(a.states[c]&&a.states[c].ignore,o);if(v||!Pe(u,t)){var g=d?e:e&&e.states[c];g&&(g.ignore=!0),e&&Te(e,!0,c,s);continue}e||(e=new Ze,r.setTextGuideLine(e),!d&&(o||!t)&&Te(e,!0,"normal",i.normal),r.stateProxy&&(e.stateProxy=r.stateProxy)),Te(e,!1,c,s)}}if(e){va(e.style,n),e.style.fill=null;var h=l.get("showAbove"),p=r.textGuideLineConfig=r.textGuideLineConfig||{};p.showAbove=h||!1,e.buildPath=$a}}function ta(r,i){i=i||"labelLine";for(var n={normal:r.getModel(i)},e=0;e<Ye.length;e++){var a=Ye[e];n[a]=r.getModel([a,i])}return n}function Ka(r){if(r){for(var i=[],n=0;n<r.length;n++)i.push(r[n].slice());return i}}function Ja(r,i){var n=r.label,e=i&&i.getTextGuideLine();return{dataIndex:r.dataIndex,dataType:r.dataType,seriesIndex:r.seriesModel.seriesIndex,text:r.label.style.text,rect:r.hostRect,labelRect:r.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:Ka(e&&e.shape.points)}}var Fe=["align","verticalAlign","width","height","fontSize"],R=new da,Ce=le(),Qa=le();function ge(r,i,n){for(var e=0;e<n.length;e++){var a=n[e];i[a]!=null&&(r[a]=i[a])}}var ue=["x","y","rotation"],et=(function(){function r(){this._labelList=[],this._chartViewList=[]}return r.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},r.prototype._addLabel=function(i,n,e,a,l){var t=a.style,o=a.__hostTarget,f=o.textConfig||{},c=a.getComputedTransform(),s=a.getBoundingRect().plain();_e.applyTransform(s,s,c),c?R.setLocalTransform(c):(R.x=R.y=R.rotation=R.originX=R.originY=0,R.scaleX=R.scaleY=1),R.rotation=ie(R.rotation);var d=a.__hostTarget,u;if(d){u=d.getBoundingRect().plain();var v=d.getComputedTransform();_e.applyTransform(u,u,v)}var g=u&&d.getTextGuideLine();this._labelList.push({label:a,labelLine:g,seriesModel:e,dataIndex:i,dataType:n,layoutOptionOrCb:l,layoutOption:null,rect:s,hostRect:u,priority:u?u.width*u.height:0,defaultAttr:{ignore:a.ignore,labelGuideIgnore:g&&g.ignore,x:R.x,y:R.y,scaleX:R.scaleX,scaleY:R.scaleY,rotation:R.rotation,style:{x:t.x,y:t.y,align:t.align,verticalAlign:t.verticalAlign,width:t.width,height:t.height,fontSize:t.fontSize},cursor:a.cursor,attachedPos:f.position,attachedRot:f.rotation}})},r.prototype.addLabelsOfSeries=function(i){var n=this;this._chartViewList.push(i);var e=i.__model,a=e.get("labelLayout");(Xe(a)||pa(a).length)&&i.group.traverse(function(l){if(l.ignore)return!0;var t=l.getTextContent(),o=Me(l);t&&!t.disableLabelLayout&&n._addLabel(o.dataIndex,o.dataType,e,t,a)})},r.prototype.updateLayoutConfig=function(i){var n=i.getWidth(),e=i.getHeight();function a(m,S){return function(){je(m,S)}}for(var l=0;l<this._labelList.length;l++){var t=this._labelList[l],o=t.label,f=o.__hostTarget,c=t.defaultAttr,s=void 0;Xe(t.layoutOptionOrCb)?s=t.layoutOptionOrCb(Ja(t,f)):s=t.layoutOptionOrCb,s=s||{},t.layoutOption=s;var d=Math.PI/180;f&&f.setTextConfig({local:!1,position:s.x!=null||s.y!=null?null:c.attachedPos,rotation:s.rotate!=null?s.rotate*d:c.attachedRot,offset:[s.dx||0,s.dy||0]});var u=!1;if(s.x!=null?(o.x=se(s.x,n),o.setStyle("x",0),u=!0):(o.x=c.x,o.setStyle("x",c.style.x)),s.y!=null?(o.y=se(s.y,e),o.setStyle("y",0),u=!0):(o.y=c.y,o.setStyle("y",c.style.y)),s.labelLinePoints){var v=f.getTextGuideLine();v&&(v.setShape({points:s.labelLinePoints}),u=!1)}var g=Ce(o);g.needsUpdateLabelLine=u,o.rotation=s.rotate!=null?s.rotate*d:c.rotation,o.scaleX=c.scaleX,o.scaleY=c.scaleY;for(var h=0;h<Fe.length;h++){var p=Fe[h];o.setStyle(p,s[p]!=null?s[p]:c.style[p])}if(s.draggable){if(o.draggable=!0,o.cursor="move",f){var y=t.seriesModel;if(t.dataIndex!=null){var L=t.seriesModel.getData(t.dataType);y=L.getItemModel(t.dataIndex)}o.on("drag",a(f,y.getModel("labelLine")))}}else o.off("drag"),o.cursor=c.cursor}},r.prototype.layout=function(i){var n=i.getWidth(),e=i.getHeight(),a=[];ee(this._labelList,function(f){f.defaultAttr.ignore||a.push(ya({},f))});var l=Ae(a,function(f){return f.layoutOption.moveOverlap==="shiftX"}),t=Ae(a,function(f){return f.layoutOption.moveOverlap==="shiftY"});Ie(l,0,0,n),Ie(t,1,0,e);var o=Ae(a,function(f){return f.layoutOption.hideOverlap});ma(o),ba(o)},r.prototype.processLabelsOverall=function(){var i=this;ee(this._chartViewList,function(n){var e=n.__model,a=n.ignoreLabelLineUpdate,l=e.isAnimationEnabled();n.group.traverse(function(t){if(t.ignore&&!t.forceLabelAnimation)return!0;var o=!a,f=t.getTextContent();!o&&f&&(o=Ce(f).needsUpdateLabelLine),o&&i._updateLabelLine(t,e),l&&i._animateLabels(t,e)})})},r.prototype._updateLabelLine=function(i,n){var e=i.getTextContent(),a=Me(i),l=a.dataIndex;if(e&&l!=null){var t=n.getData(a.dataType),o=t.getItemModel(l),f={},c=t.getItemVisual(l,"style");if(c){var s=t.getVisual("drawType");f.stroke=c[s]}var d=o.getModel("labelLine");aa(i,ta(o),f),je(i,d)}},r.prototype._animateLabels=function(i,n){var e=i.getTextContent(),a=i.getTextGuideLine();if(e&&(i.forceLabelAnimation||!e.ignore&&!e.invisible&&!i.disableLabelAnimation&&!La(i))){var l=Ce(e),t=l.oldLayout,o=Me(i),f=o.dataIndex,c={x:e.x,y:e.y,rotation:e.rotation},s=n.getData(o.dataType);if(t){e.attr(t);var u=i.prevStates;u&&(Ue(u,"select")>=0&&e.attr(l.oldLayoutSelect),Ue(u,"emphasis")>=0&&e.attr(l.oldLayoutEmphasis)),de(e,c,n,f)}else if(e.attr(c),!xa(e).valueAnimation){var d=Pe(e.style.opacity,1);e.style.opacity=0,oe(e,{style:{opacity:d}},n,f)}if(l.oldLayout=c,e.states.select){var v=l.oldLayoutSelect={};ge(v,c,ue),ge(v,e.states.select,ue)}if(e.states.emphasis){var g=l.oldLayoutEmphasis={};ge(g,c,ue),ge(g,e.states.emphasis,ue)}Sa(e,f,s,n,n)}if(a&&!a.ignore&&!a.invisible){var l=Qa(a),t=l.oldLayout,h={points:a.shape.points};t?(a.attr({shape:t}),de(a,{shape:h},n)):(a.setShape(h),a.style.strokePercent=0,oe(a,{style:{strokePercent:1}},n)),l.oldLayout=h}},r})(),De=le();function ut(r){r.registerUpdateLifecycle("series:beforeupdate",function(i,n,e){var a=De(n).labelManager;a||(a=De(n).labelManager=new et),a.clearLabels()}),r.registerUpdateLifecycle("series:layoutlabels",function(i,n,e){var a=De(n).labelManager;e.updatedSeries.forEach(function(l){a.addLabelsOfSeries(n.getViewOfSeriesModel(l))}),a.updateLayoutConfig(n),a.layout(n),a.processLabelsOverall()})}var qe=Math.PI*2,he=Math.PI/180;function at(r,i,n){i.eachSeriesByType(r,function(e){var a=e.getData(),l=a.mapDimension("value"),t=Ma(e,n),o=t.cx,f=t.cy,c=t.r,s=t.r0,d=t.viewRect,u=-e.get("startAngle")*he,v=e.get("endAngle"),g=e.get("padAngle")*he;v=v==="auto"?u-qe:-v*he;var h=e.get("minAngle")*he,p=h+g,y=0;a.each(l,function(O){!isNaN(O)&&y++});var L=a.getSum(l),m=Math.PI/(L||y)*2,S=e.get("clockwise"),M=e.get("roseType"),D=e.get("stillShowZeroSum"),P=a.getDataExtent(l);P[0]=0;var b=S?1:-1,A=[u,v],k=b*g/2;Aa(A,!S),u=A[0],v=A[1];var B=ra(e);B.startAngle=u,B.endAngle=v,B.clockwise=S,B.cx=o,B.cy=f,B.r=c,B.r0=s;var z=Math.abs(v-u),Y=z,Z=0,V=u;if(a.setLayout({viewRect:d,r:c}),a.each(l,function(O,E){var T;if(isNaN(O)){a.setItemLayout(E,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:S,cx:o,cy:f,r0:s,r:M?NaN:c});return}M!=="area"?T=L===0&&D?m:O*m:T=z/y,T<p?(T=p,Y-=p):Z+=O;var N=V+b*T,_=0,w=0;g>T?(_=V+b*T/2,w=_):(_=V+k,w=N-k),a.setItemLayout(E,{angle:T,startAngle:_,endAngle:w,clockwise:S,cx:o,cy:f,r0:s,r:M?Ta(O,P,[s,c]):c}),V=N}),Y<qe&&y)if(Y<=.001){var q=z/y;a.each(l,function(O,E){if(!isNaN(O)){var T=a.getItemLayout(E);T.angle=q;var N=0,_=0;q<g?(N=u+b*(E+1/2)*q,_=N):(N=u+b*E*q+k,_=u+b*(E+1)*q-k),T.startAngle=N,T.endAngle=_}})}else m=Y/Z,V=u,a.each(l,function(O,E){if(!isNaN(O)){var T=a.getItemLayout(E),N=T.angle===p?p:O*m,_=0,w=0;N<g?(_=V+b*N/2,w=_):(_=V+k,w=V+b*N-k),T.startAngle=_,T.endAngle=w,V+=b*N}})})}var ra=le();function tt(r){return{seriesType:r,reset:function(i,n){var e=n.findComponents({mainType:"legend"});if(!(!e||!e.length)){var a=i.getData();a.filterSelf(function(l){for(var t=a.getName(l),o=0;o<e.length;o++)if(!e[o].isSelected(t))return!1;return!0})}}}}var rt=Math.PI/180;function He(r,i,n,e,a,l,t,o,f,c){if(r.length<2)return;function s(h){for(var p=h.rB,y=p*p,L=0;L<h.list.length;L++){var m=h.list[L],S=Math.abs(m.label.y-n),M=e+m.len,D=M*M,P=Math.sqrt(Math.abs((1-S*S/y)*D)),b=i+(P+m.len2)*a,A=b-m.label.x,k=m.targetTextWidth-A*a;na(m,k,!0),m.label.x=b}}function d(h){for(var p={list:[],maxY:0},y={list:[],maxY:0},L=0;L<h.length;L++)if(h[L].labelAlignTo==="none"){var m=h[L],S=m.label.y>n?y:p,M=Math.abs(m.label.y-n);if(M>=S.maxY){var D=m.label.x-i-m.len2*a,P=e+m.len,b=Math.abs(D)<P?Math.sqrt(M*M/(1-D*D/P/P)):P;S.rB=b,S.maxY=M}S.list.push(m)}s(p),s(y)}for(var u=r.length,v=0;v<u;v++)if(r[v].position==="outer"&&r[v].labelAlignTo==="labelLine"){var g=r[v].label.x-c;r[v].linePoints[1][0]+=g,r[v].label.x=c}Ie(r,1,f,f+t)&&d(r)}function nt(r,i,n,e,a,l,t,o){for(var f=[],c=[],s=Number.MAX_VALUE,d=-Number.MAX_VALUE,u=0;u<r.length;u++){var v=r[u].label;we(r[u])||(v.x<i?(s=Math.min(s,v.x),f.push(r[u])):(d=Math.max(d,v.x),c.push(r[u])))}for(var u=0;u<r.length;u++){var g=r[u];if(!we(g)&&g.linePoints){if(g.labelStyleWidth!=null)continue;var v=g.label,h=g.linePoints,p=void 0;g.labelAlignTo==="edge"?v.x<i?p=h[2][0]-g.labelDistance-t-g.edgeDistance:p=t+a-g.edgeDistance-h[2][0]-g.labelDistance:g.labelAlignTo==="labelLine"?v.x<i?p=s-t-g.bleedMargin:p=t+a-d-g.bleedMargin:v.x<i?p=v.x-t-g.bleedMargin:p=t+a-v.x-g.bleedMargin,g.targetTextWidth=p,na(g,p,!1)}}He(c,i,n,e,1,a,l,t,o,d),He(f,i,n,e,-1,a,l,t,o,s);for(var u=0;u<r.length;u++){var g=r[u];if(!we(g)&&g.linePoints){var v=g.label,h=g.linePoints,y=g.labelAlignTo==="edge",L=v.style.padding,m=L?L[1]+L[3]:0,S=v.style.backgroundColor?0:m,M=g.rect.width+S,D=h[1][0]-h[2][0];y?v.x<i?h[2][0]=t+g.edgeDistance+M+g.labelDistance:h[2][0]=t+a-g.edgeDistance-M-g.labelDistance:(v.x<i?h[2][0]=v.x+g.labelDistance:h[2][0]=v.x-g.labelDistance,h[1][0]=h[2][0]+D),h[1][1]=h[2][1]=v.y}}}function na(r,i,n){if(r.labelStyleWidth==null){var e=r.label,a=e.style,l=r.rect,t=a.backgroundColor,o=a.padding,f=o?o[1]+o[3]:0,c=a.overflow,s=l.width+(t?0:f);if(i<s||n){if(c&&c.match("break")){e.setStyle("backgroundColor",null),e.setStyle("width",i-f);var d=e.getBoundingRect();e.setStyle("width",Math.ceil(d.width)),e.setStyle("backgroundColor",t)}else{var u=i-f,v=i<s?u:n?u>r.unconstrainedWidth?null:u:null;e.setStyle("width",v)}ia(l,e)}}}function ia(r,i){We.rect=r,Ca(We,i,it)}var it={minMarginForce:[null,0,null,0],marginDefault:[1,0,1,0]},We={};function we(r){return r.position==="center"}function st(r){var i=r.getData(),n=[],e,a,l=!1,t=(r.get("minShowLabelAngle")||0)*rt,o=i.getLayout("viewRect"),f=i.getLayout("r"),c=o.width,s=o.x,d=o.y,u=o.height;function v(D){D.ignore=!0}function g(D){if(!D.ignore)return!0;for(var P in D.states)if(D.states[P].ignore===!1)return!0;return!1}i.each(function(D){var P=i.getItemGraphicEl(D),b=P.shape,A=P.getTextContent(),k=P.getTextGuideLine(),B=i.getItemModel(D),z=B.getModel("label"),Y=z.get("position")||B.get(["emphasis","label","position"]),Z=z.get("distanceToLabelLine"),V=z.get("alignTo"),q=se(z.get("edgeDistance"),c),O=z.get("bleedMargin");O==null&&(O=Math.min(c,u)>200?10:2);var E=B.getModel("labelLine"),T=E.get("length");T=se(T,c);var N=E.get("length2");if(N=se(N,c),Math.abs(b.endAngle-b.startAngle)<t){ee(A.states,v),A.ignore=!0,k&&(ee(k.states,v),k.ignore=!0);return}if(g(A)){var _=(b.startAngle+b.endAngle)/2,w=Math.cos(_),H=Math.sin(_),ae,ve,Oe,fe;e=b.cx,a=b.cy;var $=Y==="inside"||Y==="inner";if(Y==="center")ae=b.cx,ve=b.cy,fe="center";else{var me=($?(b.r+b.r0)/2*w:b.r*w)+e,be=($?(b.r+b.r0)/2*H:b.r*H)+a;if(ae=me+w*3,ve=be+H*3,!$){var Re=me+w*(T+f-b.r),Ge=be+H*(T+f-b.r),Ee=Re+(w<0?-1:1)*N,ke=Ge;V==="edge"?ae=w<0?s+q:s+c-q:ae=Ee+(w<0?-Z:Z),ve=ke,Oe=[[me,be],[Re,Ge],[Ee,ke]]}fe=$?"center":V==="edge"?w>0?"right":"left":w>0?"left":"right"}var te=Math.PI,K=0,re=z.get("rotate");if($e(re))K=re*(te/180);else if(Y==="center")K=0;else if(re==="radial"||re===!0){var oa=w<0?-_+te:-_;K=oa}else if(re==="tangential"&&Y!=="outside"&&Y!=="outer"){var J=Math.atan2(w,H);J<0&&(J=te*2+J);var la=H>0;la&&(J=te+J),K=J-te}if(l=!!K,A.x=ae,A.y=ve,A.rotation=K,A.setStyle({verticalAlign:"middle"}),$){A.setStyle({align:fe});var xe=A.states.select;xe&&(xe.x+=A.x,xe.y+=A.y)}else{var Le=new _e(0,0,0,0);ia(Le,A),n.push({label:A,labelLine:k,position:Y,len:T,len2:N,minTurnAngle:E.get("minTurnAngle"),maxSurfaceAngle:E.get("maxSurfaceAngle"),surfaceNormal:new I(w,H),linePoints:Oe,textAlign:fe,labelDistance:Z,labelAlignTo:V,edgeDistance:q,bleedMargin:O,rect:Le,unconstrainedWidth:Le.width,labelStyleWidth:A.style.width})}P.setTextConfig({inside:$})}}),!l&&r.get("avoidLabelOverlap")&&nt(n,e,a,f,c,u,s,d);for(var h=0;h<n.length;h++){var p=n[h],y=p.label,L=p.labelLine,m=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:p.textAlign}),m&&(ee(y.states,v),y.ignore=!0);var S=y.states.select;S&&(S.x+=y.x,S.y+=y.y)}if(L){var M=p.linePoints;m||!M?(ee(L.states,v),L.ignore=!0):(ea(M,p.minTurnAngle),Za(M,p.surfaceNormal,p.maxSurfaceAngle),L.setShape({points:M}),y.__hostTarget.textGuideLineConfig={anchor:new I(M[0][0],M[0][1])})}}}var ot=(function(r){Ne(i,r);function i(n,e,a){var l=r.call(this)||this;l.z2=2;var t=new _a;return l.setTextContent(t),l.updateData(n,e,a,!0),l}return i.prototype.updateData=function(n,e,a,l){var t=this,o=n.hostModel,f=n.getItemModel(e),c=f.getModel("emphasis"),s=n.getItemLayout(e),d=Q(ce(f.getModel("itemStyle"),s,!0),s);if(isNaN(d.startAngle)){t.setShape(d);return}if(l){t.setShape(d);var u=o.getShallow("animationType");o.ecModel.ssr?(oe(t,{scaleX:0,scaleY:0},o,{dataIndex:e,isFrom:!0}),t.originX=d.cx,t.originY=d.cy):u==="scale"?(t.shape.r=s.r0,oe(t,{shape:{r:s.r}},o,e)):a!=null?(t.setShape({startAngle:a,endAngle:a}),oe(t,{shape:{startAngle:s.startAngle,endAngle:s.endAngle}},o,e)):(t.shape.endAngle=s.startAngle,de(t,{shape:{endAngle:s.endAngle}},o,e))}else Ia(t),de(t,{shape:d},o,e);t.useStyle(n.getItemVisual(e,"style")),Na(t,f);var v=(s.startAngle+s.endAngle)/2,g=o.get("selectedOffset"),h=Math.cos(v)*g,p=Math.sin(v)*g,y=f.getShallow("cursor");y&&t.attr("cursor",y),this._updateLabel(o,n,e),t.ensureState("emphasis").shape=Q({r:s.r+(c.get("scale")&&c.get("scaleSize")||0)},ce(c.getModel("itemStyle"),s)),Q(t.ensureState("select"),{x:h,y:p,shape:ce(f.getModel(["select","itemStyle"]),s)}),Q(t.ensureState("blur"),{shape:ce(f.getModel(["blur","itemStyle"]),s)});var L=t.getTextGuideLine(),m=t.getTextContent();L&&Q(L.ensureState("select"),{x:h,y:p}),Q(m.ensureState("select"),{x:h,y:p}),Oa(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},i.prototype._updateLabel=function(n,e,a){var l=this,t=e.getItemModel(a),o=t.getModel("labelLine"),f=e.getItemVisual(a,"style"),c=f&&f.fill,s=f&&f.opacity;Ra(l,Ga(t),{labelFetcher:e.hostModel,labelDataIndex:a,inheritColor:c,defaultOpacity:s,defaultText:n.getFormattedLabel(a,"normal")||e.getName(a)});var d=l.getTextContent();l.setTextConfig({position:null,rotation:null}),d.attr({z2:10});var u=t.get(["label","position"]);if(u!=="outside"&&u!=="outer")l.removeTextGuideLine();else{var v=this.getTextGuideLine();v||(v=new Ze,this.setTextGuideLine(v)),aa(this,ta(t),{stroke:c,opacity:Ea(o.get(["lineStyle","opacity"]),s,1)})}},i})(Ke),lt=(function(r){Ne(i,r);function i(){var n=r!==null&&r.apply(this,arguments)||this;return n.ignoreLabelLineUpdate=!0,n}return i.prototype.render=function(n,e,a,l){var t=n.getData(),o=this._data,f=this.group,c;if(!o&&t.count()>0){for(var s=t.getItemLayout(0),d=1;isNaN(s&&s.startAngle)&&d<t.count();++d)s=t.getItemLayout(d);s&&(c=s.startAngle)}if(this._emptyCircleSector&&f.remove(this._emptyCircleSector),t.count()===0&&n.get("showEmptyCircle")){var u=ra(n),v=new Ke({shape:Da(u)});v.useStyle(n.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=v,f.add(v)}t.diff(o).add(function(g){var h=new ot(t,g,c);t.setItemGraphicEl(g,h),f.add(h)}).update(function(g,h){var p=o.getItemGraphicEl(h);p.updateData(t,g,c),p.off("click"),f.add(p),t.setItemGraphicEl(g,p)}).remove(function(g){var h=o.getItemGraphicEl(g);wa(h,n,g)}).execute(),st(n),n.get("animationTypeUpdate")!=="expansion"&&(this._data=t)},i.prototype.dispose=function(){},i.prototype.containPoint=function(n,e){var a=e.getData(),l=a.getItemLayout(0);if(l){var t=n[0]-l.cx,o=n[1]-l.cy,f=Math.sqrt(t*t+o*o);return f<=l.r&&f>=l.r0}},i.type="pie",i})(Pa),vt=(function(){function r(i,n){this._getDataWithEncodedVisual=i,this._getRawData=n}return r.prototype.getAllNames=function(){var i=this._getRawData();return i.mapArray(i.getName)},r.prototype.containName=function(i){var n=this._getRawData();return n.indexOfName(i)>=0},r.prototype.indexOfName=function(i){var n=this._getDataWithEncodedVisual();return n.indexOfName(i)},r.prototype.getItemVisual=function(i,n){var e=this._getDataWithEncodedVisual();return e.getItemVisual(i,n)},r})(),ft=le(),sa=(function(r){Ne(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.init=function(n){r.prototype.init.apply(this,arguments),this.legendVisualProvider=new vt(ze(this.getData,this),ze(this.getRawData,this)),this._defaultLabelLine(n)},i.prototype.mergeOption=function(){r.prototype.mergeOption.apply(this,arguments)},i.prototype.getInitialData=function(){return ka(this,{coordDimensions:["value"],encodeDefaulter:Je(Va,this)})},i.prototype.getDataParams=function(n){var e=this.getData(),a=ft(e),l=a.seats;if(!l){var t=[];e.each(e.mapDimension("value"),function(f){t.push(f)}),l=a.seats=Ya(t,e.hostModel.get("percentPrecision"))}var o=r.prototype.getDataParams.call(this,n);return o.percent=l[n]||0,o.$vars.push("percent"),o},i.prototype._defaultLabelLine=function(n){Ba(n,"labelLine",["show"]);var e=n.labelLine,a=n.emphasis.labelLine;e.show=e.show&&n.label.show,a.show=a.show&&n.emphasis.label.show},i.type="series.pie",i.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"50%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,coordinateSystemUsage:"box",left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:30,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},i})(Xa);Ua({fullType:sa.type,getCoord2:function(r){return r.getShallow("center")}});function ct(r){return{seriesType:r,reset:function(i,n){var e=i.getData();e.filterSelf(function(a){var l=e.mapDimension("value"),t=e.get(l,a);return!($e(t)&&!isNaN(t)&&t<0)})}}}function ht(r){r.registerChartView(lt),r.registerSeriesModel(sa),za("pie",r.registerAction),r.registerLayout(Je(at,"pie")),r.registerProcessor(tt("pie")),r.registerProcessor(ct("pie"))}export{vt as L,ut as a,tt as d,ta as g,ht as i,aa as s};
//# sourceMappingURL=install-ryutHkIw.js.map
